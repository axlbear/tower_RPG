#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#include <windows.h>
#include <stdbool.h>
#include "functions.h"
#include "combat.h"
#include "maps.h"

int main (void)
{
    struct 
    {
        int Attack;
        int Defense;
        int Health;
        int Keys;
        int Potions;

    } Character;

    Character.Attack = 5;
    Character.Defense = 3;
    Character.Health = 10;
    Character.Keys = 0;
    Character.Potions = 0;

    int logo[14][61] = {{219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,},
{219,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,219,},
{219,176,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,176,176,178,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,176,176,176,219,},
{219,176,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,176,176,178,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,176,176,176,219,},
{219,176,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,176,176,178,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,176,176,178,219,219,219,176,176,176,219,},
{219,176,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,176,176,178,219,219,219,178,219,219,219,178,219,219,178,219,219,219,178,219,219,219,176,176,176,176,176,176,176,178,219,219,219,176,176,176,178,219,219,219,176,176,176,219,},
{219,176,176,176,176,178,219,219,219,219,176,176,176,178,219,219,219,176,176,176,178,219,219,219,178,219,219,219,178,219,219,178,219,219,219,178,219,219,219,219,219,219,219,176,176,176,178,219,219,219,219,219,219,219,219,219,219,176,176,176,219,},
{219,176,176,176,176,178,219,219,219,219,176,176,176,178,219,219,219,176,176,176,178,219,219,219,178,219,219,219,178,219,219,178,219,219,219,178,219,219,219,219,219,219,219,176,176,176,178,219,219,219,219,219,219,219,219,219,219,176,176,176,219,},
{219,176,176,176,176,178,219,219,219,219,176,176,176,178,219,219,219,176,176,176,178,219,219,219,178,219,219,219,178,219,219,178,219,219,219,178,219,219,219,176,176,176,176,176,176,176,178,219,219,219,219,219,219,219,219,176,176,176,176,176,219,},
{219,176,176,176,176,178,219,219,219,219,176,176,176,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,178,219,219,219,176,176,176,176,176,219,},
{219,176,176,176,176,178,219,219,219,219,176,176,176,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,178,219,219,219,219,219,176,176,176,219,},
{219,176,176,176,176,178,219,219,219,219,176,176,176,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,219,219,219,219,219,219,219,178,219,219,219,176,176,178,219,219,219,219,176,176,176,219,},
{219,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,176,219,},
{219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,219,}};

    do
    {
        system("@cls || clear");
        printLogo(logo);
        printf("| ");
        printf("| Developed by Alex \" Axl_Bear\" Marzani in 2020\n");
        printf("| Press ENTER to Start a New Game\n");
        printf("| Press TAB to see more information\n");
        printf("| Press ESC to Quit\n");

        int OPTION = _getch();

        switch(OPTION)
        {
            case KB_ENTER :
            {
                mapCreate01(&Character.Keys ,&Character.Potions, &Character.Attack, &Character.Defense, &Character.Health);
                break;
            }

            case KB_TAB :
            {
                credits();
                break;
            }

            case KB_ESC :
            {
                exit(1);
                break;
            }
        }

    } while (1);
    
    return 0;
}