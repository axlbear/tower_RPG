#include <stdio.h>
#include <stdlib.h>
#include <conio.h>
#include <windows.h>
#include <stdbool.h>
#include "define.h"   // All the #define commands
#include "battle.h"   // Battle Functions and most of the Encounters
#include "story.h"    // Storyline, Events and Endings
#include "map01.h"     // Map and Movement/Colision Functions

void instructions (void)
{
    clear_s();

    printf("| Use W, A, S, D for movement.\n");
    printf("| Use TAB to access the Inventory and Player's sheet.\n");
    printf("| Use SPACE BAR to interact with other NPCs, Doors, Puzzles or even pass your turn.\n");
    printf("| By passing your turn, you allow enemies to move around.\n");
    printf("| You can avoid combat by being stealthy.\n");

    _getch();
}


int main (void)
{
    do
    {
        clear_s();
        char logo[16][38] = {{178,178,178,178,178,178,177,178,178,178,178,178,178,177,178,178,176,176,176,176,177,178,178,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {178,178,178,178,178,178,177,178,178,178,178,178,178,177,178,178,176,176,176,176,177,178,178,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {178,178,178,178,178,178,177,178,178,178,178,178,178,177,178,178,176,176,176,176,177,178,178,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {178,178,178,178,178,178,177,178,178,178,178,178,178,177,178,178,176,176,176,176,177,178,178,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,176,176,176,176,177,178,178,176,177,178,178,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,176,176,176,176,177,178,178,176,177,178,178,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,176,176,176,176,177,178,178,178,178,178,176,},
                            {176,177,178,178,176,176,177,178,178,176,177,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,176,176,176,176,177,178,178,178,178,178,176,},
                            {176,177,178,178,176,176,177,178,178,178,178,178,178,176,177,178,178,177,178,177,178,178,176,177,178,178,178,178,178,178,177,178,178,178,178,178,178,},
                            {176,177,178,178,176,176,177,178,178,178,178,178,178,176,176,177,178,178,177,178,178,176,176,177,178,178,178,178,178,178,177,178,178,178,177,178,178,},
                            {176,177,178,178,176,176,177,178,178,178,178,178,178,176,176,177,178,178,177,178,178,176,176,177,178,178,178,178,178,178,177,178,178,178,177,178,178,},
                            {176,177,178,178,176,176,177,178,178,178,178,178,178,176,176,177,178,178,177,178,178,176,176,177,178,178,178,178,178,178,177,178,178,178,177,178,178,}};

        for (int y=0; y<16; y++)
        {
            for (int x=0; x<38; x++)
            {
                printf("%c", logo[y][x]);
            }
            printf("\n");
        }    
        
        printf("| A Roguelike Adventure written by Alex \"Axl_Bear\" Marzani in 2020\n");
        printf("|\n");
        printf("| PRESS ENTER TO START THE GAME\n");
        printf("| PRESS TAB FOR INFORMATION\n");
        printf("| PRESS ESC TO QUIT\n");

        int KB_INPUT = _getch(); // _getch() will identify its ASCII value as an Integer and send it to KB_INPUT

        switch(KB_INPUT)         // with #define, I can turn those ASCII values into readable references
        {
            case KB_ENTER :      // All the #define are located inside define.h
            {
                clear_s();
                mapCreate();
            }

            case KB_ESC :
            {
                exit(1);
            }

            case KB_TAB :
            {
                instructions();
                break;
            }
        }

     } while (1);

     Sleep(250);

    return 0;
}